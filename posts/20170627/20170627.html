<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Scott.Rui">
  <!-- Open Graph Data -->
  <meta property="og:title" content="20170627" />
  <meta property="og:description" content="噗!噗噗!噗噗!噗..." />
  <meta property="og:site_name" content="噗!" />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://www.tizone.orgundefined" />
  
    <link rel="alternate" href="/atom.xml" title="噗!" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <!-- Site Title -->
  <title>
    噗!
  </title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- font awesome CSS -->
  <link rel="stylesheet" href="/font-awesome-4.7.0/css/font-awesome.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">
  <!-- Google Analytics -->
  

</head>
  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/default-banner-dark.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 conract">
        <div class="page-title with-background-image">
          <p class="title">20170627</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  首页
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  归档
                  
                </a>
              </li>
            
              <li>
                <a href="/tags">
                  
                  标签
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


<article>
  <div class="container typo">
    <div class="row">
 
       
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By Scott.Rui</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2017-06-27</span>
            <span class="time">12:28:40</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/2017/">2017</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/daily/">#daily</a> <a class="tag" href="/tags/gitlab/">#gitlab</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>gitlab CI<br><a id="more"></a></p>
<h2 id="resolved"><a href="#resolved" class="headerlink" title="resolved"></a>resolved</h2><h3 id="1-gitlab-CI"><a href="#1-gitlab-CI" class="headerlink" title="1.gitlab CI"></a>1.gitlab CI</h3><h4 id="tools"><a href="#tools" class="headerlink" title="tools"></a>tools</h4><pre><code>`gitlab-ci-runner`,`msbuild`,`nuget`
</code></pre><h4 id="install-and-register-runner-win"><a href="#install-and-register-runner-win" class="headerlink" title="install and register runner win"></a>install and register runner <code>win</code></h4><ol>
<li>download git-lab runner</li>
<li>mkdir to save runer exe</li>
<li>register to gitlab</li>
<li>install gitlab-runner windows service<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">./gitlab.exe register</div><div class="line"><span class="meta">#</span> Please enter the gitlab-ci coordinator URL (e.g. https://gitlab.com )</div><div class="line"><span class="meta">#</span> https://gitlab.com</div><div class="line"><span class="meta">#</span> Please enter the gitlab-ci token for this runner</div><div class="line"><span class="meta">#</span> Please enter the gitlab-ci description for this runner</div><div class="line"><span class="meta">#</span> [hostame] my-runner</div><div class="line"><span class="meta">#</span> Please enter the gitlab-ci tags for this runner (comma separated):</div><div class="line"><span class="meta">#</span> my-tag,another-tag</div><div class="line"><span class="meta">#</span> Whether to run untagged jobs [true/false]:</div><div class="line"><span class="meta">#</span> [false]: true</div><div class="line">./gitlab.exe install</div></pre></td></tr></table></figure>
</li>
</ol>
<h4 id="nuget-install-and-restore-packages"><a href="#nuget-install-and-restore-packages" class="headerlink" title="nuget install and restore packages"></a>nuget install and restore packages</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">c:\nuget\nuget.exe restore &quot;build\cts.sln&quot;</div></pre></td></tr></table></figure>
<h4 id="msbuild-build-solution"><a href="#msbuild-build-solution" class="headerlink" title="msbuild build solution"></a>msbuild build solution</h4><ol>
<li>download msbuild standalone package</li>
<li>use msbuild build solution</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span>2333</div><div class="line">&amp;'C:\Program Files (x86)\Microsoft Visual Studio\2017\BuildTools\MSBuild\15.0\Bin\MSBuild.exe' /consoleloggerparameters:ErrorsOnly /maxcpucount /nologo /property:Configuration=Release /verbosity:quiet "build\QingdaoBeer.CTS.sln"</div></pre></td></tr></table></figure>
<h2 id="pending"><a href="#pending" class="headerlink" title="pending"></a>pending</h2><h3 id="1-nuget"><a href="#1-nuget" class="headerlink" title="1.nuget"></a>1.nuget</h3><h3 id="2-git-commit-rules"><a href="#2-git-commit-rules" class="headerlink" title="2.git commit rules"></a>2.git commit rules</h3><ol>
<li>buid pass</li>
</ol>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h2><ol>
<li><a href="http://www.cnblogs.com/newP/p/5735366.html" target="_blank" rel="external">GitLab CI持续集成配置方案</a></li>
<li><a href="http://www.cnblogs.com/xishuai/p/gitlab-ci.html" target="_blank" rel="external">劈荆斩棘：Gitlab 部署 CI 持续集成</a></li>
<li><a href="https://gitlab.com/gitlab-org/gitlab-ci-multi-runner/blob/master/docs/install/windows.md" target="_blank" rel="external">Install on Windows</a></li>
<li><a href="http://blog.taylorgibb.com/setting-up-a-powershell-ci-pipeline/" target="_blank" rel="external">Setting up a PowerShell CI Pipeline using Gitlab</a></li>
<li><a href="http://www.splaybow.com/post/powershell-run-command-with-space.html" target="_blank" rel="external">PowerShell中运行带空格的命令</a></li>
<li><a href="https://docs.microsoft.com/zh-cn/nuget/tools/nuget-exe-cli-reference" target="_blank" rel="external">NuGet CLI reference</a></li>
<li><a href="https://stackoverflow.com/questions/42696948/how-can-i-install-the-vs2017-version-of-msbuild-on-a-build-server-without-instal" target="_blank" rel="external">How can I install the VS2017 version of msbuild on a build server without installing the IDE?</a></li>
</ol>

        </div>
      </div>
      
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container contract">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul>
          <li>
            <a target="_blank" href="https://github.com/nemo1991">
              <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a target="_blank" href="https://www.zhihu.com/people/rui-qing-hua/activities">
              <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x" ></i>
                  <i class="fa  fa-stack-1x fa-inverse" aria-hidden="true">知</i>
              </span>
            </a>
          </li>
          <li>
            <a target="_blank" href="mailto:scott@tizone.org">
              <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a> Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
          <p class="copyright text-muted">
            Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
          </p>
      </div>
    </div>
  </div>
</footer>

    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

