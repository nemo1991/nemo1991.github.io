<!DOCTYPE html>
<html>
  <!-- Html Head Tag-->
  <head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="Scott.Rui">
  <!-- Open Graph Data -->
  <meta property="og:title" content="20170623" />
  <meta property="og:description" content="噗!噗噗!噗噗!噗..." />
  <meta property="og:site_name" content="噗!" />
  <meta property="og:type" content="article" />
  <meta property="og:image" content="http://www.tizone.orgundefined" />
  
    <link rel="alternate" href="/atom.xml" title="噗!" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  <!-- Site Title -->
  <title>
    噗!
  </title>
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="/css/bootstrap.min.css">
  <!-- font awesome CSS -->
  <link rel="stylesheet" href="/font-awesome-4.7.0/css/font-awesome.min.css">
  <!-- Custom CSS -->
  
  <link rel="stylesheet" href="/css/style.light.css">
  <!-- Google Analytics -->
  

</head>
  <body>
    <!-- Page Header -->


<header class="site-header header-background" style="background-image: url(/img/creeper.jpg)">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1 conract">
        <div class="page-title with-background-image">
          <p class="title">20170623</p>
          <p class="subtitle"></p>
        </div>
        <div class="site-menu with-background-image">
          <ul>
            
              <li>
                <a href="/">
                  
                  首页
                  
                </a>
              </li>
            
              <li>
                <a href="/archives">
                  
                  归档
                  
                </a>
              </li>
            
              <li>
                <a href="/tags">
                  
                  标签
                  
                </a>
              </li>
            
          </ul>
        </div>
      </div>
    </div>
  </div>
</header>


<article>
  <div class="container typo">
    <div class="row">
 
       
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-info text-muted">
          
            <!-- Author -->
            <span class="author info">By Scott.Rui</span>
          
          <!-- Date -->
          <span class="date-time info">On
            <span class="date">2017-06-23</span>
            <span class="time">15:46:12</span>
          </span>
          
          <!--  Categories  -->
            <span class="categories info">Under 

<a href="/categories/2017/">2017</a>
</span>
          
        </div>
        <!-- Tags -->
        
          <div class="post-tags text-muted">
            Tags: 

<a class="tag" href="/tags/daily/">#daily</a> <a class="tag" href="/tags/gitlab/">#gitlab</a> <a class="tag" href="/tags/linux/">#linux</a>


          </div>
        
        <!-- Post Main Content -->
        <div class="post-content">
          <p>gitlab omnibus install<br><a id="more"></a></p>
<h2 id="resloved"><a href="#resloved" class="headerlink" title="resloved"></a>resloved</h2><h3 id="1-gitlab-omnibus-install"><a href="#1-gitlab-omnibus-install" class="headerlink" title="1.gitlab omnibus install"></a>1.gitlab omnibus install</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#</span> config file path</div><div class="line">cat /etc/gitlab/gitlab.rb</div><div class="line"><span class="meta">#</span> package version file</div><div class="line">cat /opt/gitlab/version-manifest.txt.</div><div class="line"><span class="meta">#</span> template file </div><div class="line"><span class="meta">#</span> https://gitlab.com/gitlab-org/omnibus-gitlab/raw/master/files/gitlab-config-template/gitlab.rb.template</div><div class="line"><span class="meta">#</span>To view a diff between your configuration file and the latest version</div><div class="line">sudo gitlab-ctl diff-config</div><div class="line"><span class="meta">#</span> make config effective</div><div class="line"><span class="meta">#</span> The omnibus-gitlab will attempt to query the underlaying system in order to check which init system it uses. This manifests itself as a WARNING during the `sudo gitlab-ctl reconfigure` run.</div><div class="line">sudo gitlab-ctl reconfigure</div><div class="line"><span class="meta">#</span> get service status</div><div class="line">sudo gitlab-ctl status</div><div class="line"><span class="meta">#</span> Start all GitLab components</div><div class="line">sudo gitlab-ctl start</div><div class="line"><span class="meta">#</span> Stop all GitLab components</div><div class="line">sudo gitlab-ctl stop</div><div class="line"><span class="meta">#</span> Restart all GitLab components</div><div class="line">sudo gitlab-ctl restart </div><div class="line"><span class="meta">#</span> Tail all logs; press Ctrl-C to exit</div><div class="line">sudo gitlab-ctl tail</div><div class="line"><span class="meta">#</span>You can verify GitLab's ability to send emails properly using the Rails console. On the GitLab server, execute gitlab-rails console to enter the console. Then, you can enter the following command at the console prompt to cause GitLab to send a test email:</div><div class="line">sudo gitlab-rails console</div><div class="line"><span class="meta">&gt;</span> Notify.test_email('destination_email@address.com', 'Message Subject', 'Message Body').deliver_now</div></pre></td></tr></table></figure>
<h3 id="2-gitlab-config"><a href="#2-gitlab-config" class="headerlink" title="2.gitlab config"></a>2.gitlab config</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line">external_url &quot;http://gitlab.example.com&quot;</div><div class="line"></div><div class="line">gitlab_rails[&apos;gitlab_email_from&apos;] = &apos;username@your domain&apos;</div><div class="line">gitlab_rails[&apos;smtp_enable&apos;] = true</div><div class="line">gitlab_rails[&apos;smtp_address&apos;] = &quot;smtpdm.aliyun.com&quot;</div><div class="line">gitlab_rails[&apos;smtp_port&apos;] = 80</div><div class="line">gitlab_rails[&apos;smtp_user_name&apos;] = &quot;username@your domain&quot;</div><div class="line">gitlab_rails[&apos;smtp_password&apos;] = &quot;password&quot;</div><div class="line">gitlab_rails[&apos;smtp_domain&apos;] = &quot;your domain&quot;</div><div class="line">gitlab_rails[&apos;smtp_authentication&apos;] = &quot;login&quot;</div></pre></td></tr></table></figure>
<h3 id="3-aliyun-enterprise-mail-host-and-port"><a href="#3-aliyun-enterprise-mail-host-and-port" class="headerlink" title="3.aliyun enterprise mail host and port"></a>3.aliyun enterprise mail host and port</h3><blockquote>
<p>企业云邮箱各个服务器地址及端口信息如下：</p>
<p>收件服务器地址：</p>
<p>POP 服务器地址：pop3.mxhichina.com 端口110，SSL 加密端口995</p>
<p>或</p>
<p>IMAP 服务器地址：imap.mxhichina.com 端口143，SSL 加密端口993</p>
<p>发件服务器地址：</p>
<p>SMTP 服务器地址：smtp.mxhichina.com 端口25， SSL 加密端口46</p>
</blockquote>
<p>企业云邮箱默认 SMTP 发信功能已经开启，使用企业邮箱使用与 SMTP 程序进行发信时，涉及的邮箱服务器和设置方法如下： </p>
<p>1、 SMTP 服务器名称smtp.mxhichina.com，或者smtp.您的邮箱域名；</p>
<p>2、 SMTP 服务器端口：25（SSL加密端口为465）；</p>
<p>3、 SMTP 身份验证：必须勾选</p>
<p>4、 SMTP 认证登录用户名（发信邮箱地址）：正确、完整的阿里云企业邮箱账号名称，如postmaster@abc.com</p>
<h3 id="4-ubuntu-apt-get-install-error"><a href="#4-ubuntu-apt-get-install-error" class="headerlink" title="4.ubuntu apt-get install error"></a>4.ubuntu apt-get install error</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">Could not get lock /var/lib/dpkg/lock</div><div class="line">E: Could not get lock /var/lib/dpkg/lock - open (11: Resource temporarily unavailable)</div><div class="line">E: Unable to lock the administration directory (/var/lib/dpkg/), is another process using it?</div></pre></td></tr></table></figure>
<p><code>remove lock file</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">sudo rm /var/cache/apt/archives/lock</div><div class="line">sudo rm /var/lib/dpkg/lock</div></pre></td></tr></table></figure>
<h2 id="pending"><a href="#pending" class="headerlink" title="pending"></a>pending</h2><h3 id="1-Mattermost"><a href="#1-Mattermost" class="headerlink" title="1.Mattermost"></a>1.Mattermost</h3><blockquote>
<p>mattermost 是一个 Slack 的开源替代品。Mattermost 采用 Go 语言开发，这是一个开源的团队通讯服务。为团队带来跨 PC 和移动设备的消息、文件分享，提供归档和搜索功能。</p>
</blockquote>
<h3 id="2-Prometheus"><a href="#2-Prometheus" class="headerlink" title="2.Prometheus"></a>2.Prometheus</h3><blockquote>
<p>Prometheus是一套开源的监控&amp;报警&amp;时间序列数据库的组合，起始是由SoundCloud公司开发的。随着发展，越来越多公司和组织接受采用Prometheus，社区也十分活跃，他们便将它独立成开源项目，并且有公司来运作。google SRE的书内也曾提到跟他们BorgMon监控系统相似的实现是Prometheus。现在最常见的Kubernetes容器管理系统中，通常会搭配Prometheus进行监控。</p>
</blockquote>
<h3 id="3-centos7-0-firewall"><a href="#3-centos7-0-firewall" class="headerlink" title="3.centos7.0 firewall"></a>3.centos7.0 firewall</h3><p><a href="http://www.centoscn.com/image-text/install/2015/0101/4402.html" target="_blank" rel="external">http://www.centoscn.com/image-text/install/2015/0101/4402.html</a></p>
<h3 id="4-ollydbg"><a href="#4-ollydbg" class="headerlink" title="4.ollydbg"></a>4.ollydbg</h3><h3 id="5-编写chrome插件，调用本地应用程序，并进行通讯（发送信息给应用程序）"><a href="#5-编写chrome插件，调用本地应用程序，并进行通讯（发送信息给应用程序）" class="headerlink" title="5.编写chrome插件，调用本地应用程序，并进行通讯（发送信息给应用程序）"></a>5.编写chrome插件，调用本地应用程序，并进行通讯（发送信息给应用程序）</h3><p><a href="http://www.cnblogs.com/northhurricane/p/4019343.html" target="_blank" rel="external">http://www.cnblogs.com/northhurricane/p/4019343.html</a></p>
<h3 id="reference"><a href="#reference" class="headerlink" title="reference"></a>reference</h3><ol>
<li><a href="http://www.cnblogs.com/vovlie/p/Prometheus_CONCEPTS.html" target="_blank" rel="external">Prometheus 系统监控方案 一</a></li>
<li><a href="http://www.open-open.com/lib/view/open1433584757328.html" target="_blank" rel="external">Ubuntu 14.04下安装GitLab指南</a></li>
<li><a href="https://about.gitlab.com/upgrade-to-package-repository/" target="_blank" rel="external">Upgrade to the package repository</a></li>
<li><a href="https://docs.gitlab.com/omnibus/settings/smtp.html" target="_blank" rel="external">SMTP settings</a></li>
<li><a href="https://docs.gitlab.com/omnibus/README.html" target="_blank" rel="external">Omnibus GitLab documentation</a></li>
</ol>

        </div>
      </div>
      
    </div>
  </div>
</article>



    <!-- Footer -->
<footer>
  <div class="container contract">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <ul>
          <li>
            <a target="_blank" href="https://github.com/nemo1991">
              <span class="fa-stack fa-lg">
                    <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-github fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
          <li>
            <a target="_blank" href="https://www.zhihu.com/people/scott.rui">
              <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x" ></i>
                  <i class="fa  fa-stack-1x fa-inverse" aria-hidden="true">知</i>
              </span>
            </a>
          </li>
          <li>
            <a target="_blank" href="mailto:keepnemo@gmail.com">
              <span class="fa-stack fa-lg">
                  <i class="fa fa-circle fa-stack-2x"></i>
                  <i class="fa fa-envelope fa-stack-1x fa-inverse"></i>
              </span>
            </a>
          </li>
        </ul>
      </div>
    </div>
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <p class="copyright text-muted">
          Theme By <a target="_blank" href="https://github.com/levblanc">Levblanc.</a> Inspired By <a target="_blank" href="https://github.com/klugjo/hexo-theme-clean-blog">Clean Blog.</a>
          <p class="copyright text-muted">
            Powered By <a target="_blank" href="https://hexo.io/">Hexo.</a>
          </p>
      </div>
    </div>
  </div>
</footer>

    <!-- After Footer Scripts -->
<script src="/js/highlight.pack.js"></script>
<script>
  document.addEventListener("DOMContentLoaded", function(event) {
    var codeBlocks = Array.prototype.slice.call(document.getElementsByTagName('pre'))
    codeBlocks.forEach(function(block, index) {
      hljs.highlightBlock(block);
    });
  });
</script>

  </body>
</html>

